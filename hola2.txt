
Resumen del Proyecto Backend (Node.js + Express)

Este proyecto es un servidor backend hecho con Node.js y Express. Sirve para gestionar usuarios, talleres y mostrar información en una web. Está pensado para trabajar junto a un frontend (por ejemplo, React).

Estructura principal:
- **src/**: Carpeta principal del código.
	- **app.js**: Archivo que arranca la aplicación y conecta todas las rutas y configuraciones.
	- **config/**: Configuración de la base de datos (MongoDB).
	- **controllers/**: Lógica de negocio (qué hacer cuando llega una petición).
	- **middleware/**: Funciones que se ejecutan antes de llegar a los controladores (ej: autenticación, validación).
	- **models/**: Definición de los datos (cómo son los usuarios, talleres, etc.).
	- **routes/**: Define las rutas de la API (por ejemplo, /api/talleres).
	- **api-docs.js**: Configuración de la documentación Swagger.
- **uploads/** y **public/uploads/**: Carpeta donde se guardan las imágenes subidas.
- **package.json**: Lista de dependencias y scripts del proyecto.

Funcionamiento básico:
1. El servidor se inicia con `node src/app.js`.
2. Se conecta a la base de datos MongoDB.
3. Expone rutas para gestionar usuarios, talleres y la página principal (home).
4. Permite subir imágenes y acceder a ellas desde el frontend.
5. Usa Swagger para documentar la API y facilitar pruebas.
6. Permite autenticación con tokens y gestión de sesiones con cookies.

Preguntas técnicas típicas en una presentación:
- ¿Por qué usas Express y Node.js?
	Porque son rápidos, sencillos y muy usados para crear APIs.
- ¿Cómo se conecta a la base de datos?
	Usando Mongoose y la configuración en `src/config/dbConnect.js`.
- ¿Cómo se protegen las rutas?
	Con middleware de autenticación (`src/middleware/auth.js`).
- ¿Cómo se gestionan los usuarios y talleres?
	Hay modelos y controladores específicos para cada uno.
- ¿Cómo se suben y sirven imágenes?
	Usando rutas y middleware para manejar archivos, y sirviendo la carpeta `uploads` como estática.
- ¿Qué es Swagger y para qué sirve?
	Es una herramienta para documentar y probar la API fácilmente.
- ¿Cómo se comunica el frontend con el backend?
	Por HTTP usando rutas como `/api/talleres`, `/api/auth`, etc. y con CORS activado para permitir peticiones desde React.
- ¿Cómo se gestionan los errores y validaciones?
	Hay middleware específico para validar datos y manejar errores.

Resumen para novatos:
Este backend recibe peticiones del frontend, consulta o modifica datos en la base de datos, y responde con la información necesaria. Además, permite subir imágenes y tiene seguridad básica para usuarios.


Preguntas más específicas y explicaciones:

1. ¿Qué es CORS y por qué lo usas?
	- CORS (Cross-Origin Resource Sharing) es una política de seguridad de los navegadores que bloquea peticiones entre diferentes dominios. En este proyecto, se usa para permitir que el frontend (por ejemplo, React en http://localhost:5173) pueda comunicarse con el backend sin ser bloqueado. Se configura en `app.js` con:
	  ```js
	  app.use(cors({ origin: 'http://localhost:5173' }))
	  ```
	- Así, solo ese frontend puede hacer peticiones al backend.

2. ¿Qué es Multer y cómo funciona?
	- Multer es un middleware para Express que permite subir archivos (por ejemplo, imágenes) desde el frontend al backend. Se encarga de recibir el archivo, guardarlo en una carpeta (como `uploads/`) y poner la información del archivo en la petición para que el controlador la use.
	- Ejemplo de uso:
	  ```js
	  const multer = require('multer');
	  const upload = multer({ dest: 'uploads/' });
	  app.post('/api/talleres', upload.single('imagen'), (req, res) => { /* ... */ })
	  ```
	- Así, cuando el usuario sube una imagen, Multer la guarda y el backend puede acceder a ella.

3. ¿Cómo se gestionan los tokens y la autenticación?
	- Cuando un usuario inicia sesión, el backend genera un token (normalmente JWT) y lo guarda en una cookie. El middleware de autenticación comprueba ese token en cada petición protegida.

4. ¿Cómo se validan los datos que llegan del frontend?
	- Hay middleware específico (`validateInput.js`) que revisa que los datos sean correctos antes de que lleguen al controlador. Si hay errores, responde con un mensaje y no ejecuta la lógica principal.

5. ¿Cómo se organizan los controladores y modelos?
	- Los controladores reciben la petición, usan los modelos para consultar o modificar la base de datos, y devuelven la respuesta. Los modelos definen cómo son los datos en MongoDB.

6. ¿Cómo se documenta la API?
	- Con Swagger, que permite ver y probar todas las rutas de la API desde una web en `/api-docs`.

7. ¿Cómo se gestionan los errores?
	- Si ocurre un error (por ejemplo, datos incorrectos o problemas de conexión), el backend responde con un mensaje claro y un código de error (como 400 o 500).

8. ¿Cómo se sirven los archivos subidos?
	- Las imágenes subidas se guardan en la carpeta `uploads/` y se pueden acceder desde el frontend usando la ruta `/uploads/nombre-del-archivo`.

9. ¿Cómo se estructura una ruta típica?
	- Ejemplo: Para crear un taller, el frontend hace una petición POST a `/api/talleres` con los datos y la imagen. El backend valida, guarda la imagen con Multer, crea el taller en la base de datos y responde con el taller creado.

10. ¿Qué pasa si intento acceder a una ruta protegida sin estar autenticado?
	- El middleware de autenticación bloquea la petición y responde con un error de autorización.
